[pytest]
# ==============================================================================
# Pytest Configuration for Chess App
# Place this file in the root directory (same level as app.py)
# ==============================================================================

# Test discovery settings
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Playwright-specific settings (for E2E tests)
addopts = 
    # Verbose output
    -v
    # Show summary of all test outcomes
    -ra
    # Show local variables in tracebacks
    --tb=short
    # Playwright browser (chromium = Chrome)
    --browser chromium
    # Speed (0 = fast, 1000 = 1 second per action for debugging)
    --slowmo 0
    # Base URL for E2E tests
    --base-url http://localhost:5000

# Markers for organizing tests
markers =
    unit: Unit tests (chess logic only, no Flask)
    integration: Integration tests (Flask API tests)
    e2e: End-to-end tests (Playwright UI tests)
    slow: Tests that take > 5 seconds
    ai: Tests that use AI functionality

# Warnings
filterwarnings =
    # Ignore Flask-Session deprecation warnings (known issue)
    ignore::DeprecationWarning:flask_session

# Coverage settings (optional - requires pytest-cov)
# Uncomment if you install pytest-cov: pip install pytest-cov
# addopts = --cov=. --cov-report=html --cov-report=term

# Logging
log_cli = false
log_cli_level = INFO

# Parallel execution settings (requires pytest-xdist)
# Uncomment if you install pytest-xdist: pip install pytest-xdist
# addopts = -n auto